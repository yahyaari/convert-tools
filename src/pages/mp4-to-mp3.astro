---
import BaseLayout from "../layouts/BaseLayout.astro";
import SITE from "../consts";

const pagePath = "/mp4-to-mp3";
const pageUrl = new URL(pagePath, SITE.url).toString();
const homeUrl = new URL("/", SITE.url).toString();
---

<BaseLayout
    title="Saku MP4 to MP3 ‚Äì Video‚Äôdan MP3 √áevir (Tarayƒ±cƒ± ƒ∞√ßi, √úcretsiz)"
    description="Saku Convert ile MP4 videonu MP3‚Äôe √ßevir. √úcretsiz MP4‚ÜíMP3 d√∂n√º≈üt√ºr√ºc√º: i≈ülemler tarayƒ±cƒ±da, upload yok. Gizlilik dostu."
    canonical={pagePath}
    lang="tr"
    ogImage="/og/og-mp4-to-mp3.png"
    jsonLd={[
        // WebPage entity
        {
            "@type": "WebPage",
            "@id": `${pageUrl}#webpage`,
            url: pageUrl,
            name: "Saku MP4 to MP3 (Video‚Äôdan MP3 √áevirici)",
            alternateName: [
                "Saku MP4 to MP3",
                "Saku video d√∂n√º≈üt√ºr√ºc√º",
                "MP4 MP3 √ßevirici",
                "MP4'√º MP3'e d√∂n√º≈üt√ºr",
                "Online MP4 to MP3",
                "Tarayƒ±cƒ± i√ßi MP4 to MP3",
                "√úcretsiz MP4 to MP3",
            ],
            inLanguage: ["tr", "en"],
            isPartOf: { "@id": `${SITE.url}/#website` },
            about: { "@id": `${SITE.url}/#organization` },
            description:
                "Saku Convert ile MP4 videolarƒ±nƒ±zƒ± tarayƒ±cƒ± i√ßinde MP3‚Äôe d√∂n√º≈üt√ºr√ºn. Dosyalarƒ±nƒ±z sunucuya y√ºklenmez, i≈ülem cihazƒ±nƒ±zda ger√ßekle≈üir.",
            primaryImageOfPage: {
                "@type": "ImageObject",
                url: new URL("/og/og-mp4-to-mp3.png", SITE.url).toString(),
                width: 1200,
                height: 630,
            },
            mainEntity: { "@id": `${pageUrl}#app` },
        },

        // SoftwareApplication entity
        {
            "@type": "SoftwareApplication",
            "@id": `${pageUrl}#app`,
            name: "MP4 to MP3",
            applicationCategory: "MultimediaApplication",
            operatingSystem: "Web",
            url: pageUrl,
            inLanguage: "tr",
            isAccessibleForFree: true,
            offers: {
                "@type": "Offer",
                price: "0",
                priceCurrency: "TRY",
            },
            publisher: { "@id": `${SITE.url}/#organization` },
            isPartOf: { "@id": `${SITE.url}/#website` },
            description:
                "MP4 videoyu MP3‚Äôe √ßeviren √ºcretsiz d√∂n√º≈üt√ºr√ºc√º. Upload yok, d√∂n√º≈ü√ºm tarayƒ±cƒ± i√ßinde yapƒ±lƒ±r.",
        },

        // FAQPage entity
        {
            "@type": "FAQPage",
            "@id": `${pageUrl}#faq`,
            url: pageUrl,
            inLanguage: "tr",
            mainEntity: [
                {
                    "@type": "Question",
                    name: "Dosyalarƒ±m sunucuya y√ºkleniyor mu?",
                    acceptedAnswer: {
                        "@type": "Answer",
                        text: "Hayƒ±r. MP4 ‚Üí MP3 d√∂n√º≈üt√ºrme i≈ülemi tamamen tarayƒ±cƒ±nƒ±zda yapƒ±lƒ±r. Dosyanƒ±z sunucuya y√ºklenmez.",
                    },
                },
                {
                    "@type": "Question",
                    name: "MP4 to MP3 aracƒ± √ºcretsiz mi?",
                    acceptedAnswer: {
                        "@type": "Answer",
                        text: "Evet. √úcretsiz olarak sƒ±nƒ±rsƒ±z d√∂n√º≈ü√ºm yapabilirsiniz.",
                    },
                },
                {
                    "@type": "Question",
                    name: "Mobilde √ßalƒ±≈üƒ±r mƒ±?",
                    acceptedAnswer: {
                        "@type": "Answer",
                        text: "Evet, modern mobil tarayƒ±cƒ±larda da √ßalƒ±≈üƒ±r. B√ºy√ºk videolarda cihaz performansƒ±na g√∂re s√ºre uzayabilir.",
                    },
                },
            ],
        },

        // Breadcrumb
        {
            "@type": "BreadcrumbList",
            "@id": `${pageUrl}#breadcrumb`,
            itemListElement: [
                {
                    "@type": "ListItem",
                    position: 1,
                    name: "Anasayfa",
                    item: homeUrl,
                },
                {
                    "@type": "ListItem",
                    position: 2,
                    name: "MP4 to MP3",
                    item: pageUrl,
                },
            ],
        },
    ]}
>
    <header class="topbar">
        <div class="container topbar-inner">
            <nav class="nav nav-left" aria-label="Primary left">
                <a href="/" class="back-link" id="t-back">‚Üê Geri</a>
            </nav>

            <a class="brand" href="/" aria-label="Convert Tools">
                <span class="brand-mark">CT</span>
            </a>

            <div class="topbar-right">
                <nav class="nav nav-right" aria-label="Primary right">
                    <a href="/#tools" id="t-navTools">Ara√ßlar</a>
                </nav>

                <div class="lang-switch" aria-label="Language switch">
                    <button class="lang-btn" type="button" data-lang="tr"
                        >TR</button
                    >
                    <button class="lang-btn" type="button" data-lang="en"
                        >EN</button
                    >
                </div>
            </div>
        </div>
    </header>

    <section class="page" id="top">
        <div class="container">
            <div class="mini-hero" id="miniHero">
                <span class="badge" id="t-badge">√úcretsiz & Sƒ±nƒ±rsƒ±z</span>
                <h1 class="page-title" id="t-title">
                    Saku MP4 to MP3 ‚Äì Video‚Äôdan MP3 √áevir (Tarayƒ±cƒ± ƒ∞√ßi)
                </h1>
                <p class="page-subtitle muted" id="t-sub">
                    MP4 videonu MP3‚Äôe √ßevir. ƒ∞≈ülemler tarayƒ±cƒ±da olur, upload
                    yok.
                </p>

                <div class="mini-features">
                    <span id="t-f1">üé¨ MP4</span>
                    <span id="t-f2">üéß MP3</span>
                    <span id="t-f3">üîí Upload yok</span>
                </div>
            </div>

            <div style="height:14px;"></div>

            <div class="panel">
                <div class="panel-head">
                    <div class="breadcrumb">
                        <a href="/" id="t-bcHome">Anasayfa</a>
                        <span class="sep">‚Ä∫</span>
                        <span id="t-bcHere">MP4 to MP3</span>
                    </div>
                </div>

                <input id="file" type="file" accept="video/*" hidden />

                <div class="upload-box" id="dropZone">
                    <div class="upload-state is-idle">
                        <div class="upload-icon">‚¨á</div>
                        <div class="upload-text">
                            <label for="file" class="choose-link">
                                <b id="t-choose">Video se√ß</b>
                            </label>
                            <span id="idleHint">veya buraya s√ºr√ºkle.</span>
                        </div>
                    </div>

                    <div class="upload-state is-processing" hidden>
                        <div class="upload-spinner"></div>
                        <div class="upload-text">
                            <b id="t-processing">ƒ∞≈üleniyor‚Ä¶</b>
                        </div>
                    </div>

                    <div class="upload-state is-done" hidden>
                        <div class="upload-text">
                            <span id="t-ready">Hazƒ±r!</span>
                            <a href="#" id="uploadMore" class="choose-link">
                                <b id="t-uploadMore">Ba≈üka y√ºkle?</b>
                            </a>
                        </div>
                    </div>
                </div>

                <div id="controls" class="controls" hidden>
                    <div class="row">
                        <p class="muted" style="margin:0" id="fileLine">‚Äî</p>
                        <p class="muted" style="margin:0" id="statusLine">‚Äî</p>
                    </div>

                    <div class="btn-row">
                        <button id="convert" type="button"
                            >MP3'e d√∂n√º≈üt√ºr</button
                        >
                        <button
                            id="download"
                            type="button"
                            class="ghost-btn"
                            disabled
                        >
                            ƒ∞ndir
                        </button>
                        <button id="reset" type="button" class="ghost-btn"
                            >Sƒ±fƒ±rla</button
                        >
                    </div>

                    <div class="progress-wrap" hidden id="progressWrap">
                        <div
                            class="muted"
                            style="display:flex;justify-content:space-between;gap:10px;"
                        >
                            <span id="progressText">‚Äî</span>
                            <span id="progressPct">0%</span>
                        </div>

                        <div class="progress-bar">
                            <div
                                class="progress-fill"
                                id="progressFill"
                                style="width:0%"
                            >
                            </div>
                        </div>
                    </div>

                    <p id="result" class="muted" style="margin-top:10px;"></p>
                </div>
            </div>

            {/* ‚úÖ SEO TEXT PANEL (Image Converter sayfan gibi) */}
            <div class="panel">
                <section class="seo-text" style="margin-top:18px">
                    <h2 id="t-seoH2">
                        MP4 to MP3 (Saku Convert) Nasƒ±l √áalƒ±≈üƒ±r?
                    </h2>

                    <p class="seo-lead" id="t-seoLead">
                        Saku Convert ile MP4 videonu MP3‚Äôe √ºcretsiz d√∂n√º≈üt√ºr.
                        ƒ∞≈ülemler tarayƒ±cƒ±da yapƒ±lƒ±r, upload yok.
                    </p>

                    <details class="seo-details">
                        <summary id="t-seoSummary">Detaylarƒ± g√∂ster</summary>
                        <div class="details-content">
                            <p id="t-seoP1">
                                Saku MP4 to MP3 aracƒ± ile videolarƒ±nƒ± hƒ±zlƒ±ca
                                MP3‚Äôe √ßevirebilirsin. Bu bir online d√∂n√º≈üt√ºr√ºc√º
                                gibi g√∂r√ºn√ºr ama d√∂n√º≈ü√ºm tamamen tarayƒ±cƒ± i√ßinde
                                ger√ßekle≈üir; dosyalarƒ±n sunucuya y√ºklenmez.
                            </p>
                            <p id="t-seoP2">
                                ‚ÄúMP4 MP3 √ßevirici‚Äù, ‚ÄúMP4‚Äô√º MP3‚Äôe d√∂n√º≈üt√ºr‚Äù,
                                ‚ÄúSaku MP4 to MP3‚Äù gibi aramalarda hƒ±zlƒ± ve
                                gizlilik dostu bir √ß√∂z√ºm sunar.
                            </p>
                        </div>
                    </details>
                </section>
            </div>

            <style>
                .controls {
                    margin-top: 14px;
                }
                .controls .row {
                    display: flex;
                    justify-content: space-between;
                    gap: 10px;
                    flex-wrap: wrap;
                }
                .btn-row {
                    display: flex;
                    gap: 12px;
                    flex-wrap: wrap;
                    margin-top: 12px;
                    align-items: center;
                }
                .ghost-btn {
                    background: rgba(255, 255, 255, 0.75);
                    color: #0f172a;
                    border: 1px solid rgba(148, 163, 184, 0.45);
                    box-shadow: 0 10px 26px rgba(15, 23, 42, 0.06);
                }
                .ghost-btn:hover {
                    transform: none;
                    filter: none;
                }
                .progress-wrap {
                    margin-top: 12px;
                }
                .progress-bar {
                    height: 10px;
                    border-radius: 999px;
                    background: rgba(148, 163, 184, 0.25);
                    overflow: hidden;
                    margin-top: 6px;
                }
                .progress-fill {
                    height: 100%;
                    border-radius: 999px;
                    background: rgba(79, 70, 229, 0.8);
                    width: 0%;
                }
            </style>

            {/* ‚úÖ Client JS */}
            <script type="module">
                import "../scripts/mp4-to-mp3-client.js";
            </script>

            {
                /* ‚úÖ SEO section EN √ßevirisi (import yok, sadece localStorage + navigator) */
            }
            <script>
                (() => {
                    try {
                        const stored = localStorage.getItem("lang");
                        const nav = (navigator.language || "tr").toLowerCase();
                        const lang =
                            stored || (nav.startsWith("tr") ? "tr" : "en");

                        const set = (id, value) => {
                            const el = document.getElementById(id);
                            if (el && value != null) el.textContent = value;
                        };

                        if (lang === "en") {
                            set("t-seoH2", "How does Saku MP4 to MP3 work?");
                            set(
                                "t-seoLead",
                                "Convert MP4 to MP3 for free with Saku Convert. Everything runs in your browser‚Äîno uploads.",
                            );
                            set("t-seoSummary", "Show details");
                            set(
                                "t-seoP1",
                                "Saku MP4 to MP3 lets you extract audio from your videos quickly. It looks like an online converter, but the conversion happens locally in your browser‚Äîyour files are not uploaded to any server.",
                            );
                            set(
                                "t-seoP2",
                                "It‚Äôs a fast and privacy-friendly solution for searches like ‚ÄúMP4 to MP3 converter‚Äù and ‚Äúconvert MP4 to MP3‚Äù.",
                            );
                        }
                    } catch {}
                })();
            </script>
        </div>
    </section>
</BaseLayout>
